<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>OCLC Web Services Library by jaredhowland</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>OCLC Web Services Library</h1>
        <h2>PHP library to access OCLC web services</h2>
        <a href="https://github.com/jaredhowland/OCLC" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <div id="wrapper">
<h1>xID</h1>

<p><a href="http://www.oclc.org/developer/develop/web-services/xid-api.en.html">xID</a> allows you to submit an identifer, such as an ISBN, ISSN, or OCLC Number, and return a list of related identifiers and selected metadata.</p>

<p>xID is really three different services: <a href="http://www.oclc.org/developer/develop/web-services/xid-api/xisbn-resource.en.html">xISBN</a>, <a href="http://www.oclc.org/developer/develop/web-services/xid-api/xissn-resource.en.html">xISSN</a>, <a href="http://www.oclc.org/developer/develop/web-services/xid-api/xstandardNumber-resource.en.html">xStandardNumber</a>.</p>

<h2>xISBN Usage</h2>

<h3>Minimal example</h3>

<div class="highlight highlight-php"><pre><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">use</span> <span class="nx">OCLC\xid\xisbn</span><span class="p">;</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$xisbn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">xisbn</span><span class="p">;</span>
  <span class="nv">$data</span>  <span class="o">=</span> <span class="nv">$xisbn</span><span class="o">-&gt;</span><span class="na">getMetadata</span><span class="p">(</span><span class="s1">'9780545010221'</span><span class="p">);</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="p">}</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>

<h3>Search methods</h3>

<ol>
<li>
<p><code>fixChecksum</code> or <code>fix_checksum</code>:</p>

<div class="highlight highlight-php"><pre><span class="nv">$xisbn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">xisbn</span><span class="p">;</span>
<span class="nv">$data1</span> <span class="o">=</span> <span class="nv">$xisbn</span><span class="o">-&gt;</span><span class="na">fixChecksum</span><span class="p">(</span><span class="s1">'0-8044-2957'</span><span class="p">);</span>
<span class="nv">$data2</span> <span class="o">=</span> <span class="nv">$xisbn</span><span class="o">-&gt;</span><span class="na">fix_checksum</span><span class="p">(</span><span class="s1">'0-8044-2957'</span><span class="p">);</span>
</pre></div>
</li>
<li>
<p><code>getMetadata</code> or <code>get_metadata</code>:</p>

<div class="highlight highlight-php"><pre><span class="nv">$xisbn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">xisbn</span><span class="p">;</span>
<span class="nv">$data1</span> <span class="o">=</span> <span class="nv">$xisbn</span><span class="o">-&gt;</span><span class="na">getMetadata</span><span class="p">(</span><span class="s1">'0-8044-2957-X'</span><span class="p">);</span>
<span class="nv">$data2</span> <span class="o">=</span> <span class="nv">$xisbn</span><span class="o">-&gt;</span><span class="na">get_metadata</span><span class="p">(</span><span class="s1">'0-8044-2957-X'</span><span class="p">);</span>
</pre></div>
</li>
<li>
<p><code>getEditions</code> or <code>get_editions</code>:</p>

<div class="highlight highlight-php"><pre><span class="nv">$xisbn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">xisbn</span><span class="p">;</span>
<span class="nv">$data1</span> <span class="o">=</span> <span class="nv">$xisbn</span><span class="o">-&gt;</span><span class="na">getEditions</span><span class="p">(</span><span class="s1">'0-8044-2957-X'</span><span class="p">);</span>
<span class="nv">$data2</span> <span class="o">=</span> <span class="nv">$xisbn</span><span class="o">-&gt;</span><span class="na">get_editions</span><span class="p">(</span><span class="s1">'0-8044-2957-X'</span><span class="p">);</span>
</pre></div>
</li>
<li>
<p><code>hyphenate</code>:</p>

<div class="highlight highlight-php"><pre><span class="nv">$xisbn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">xisbn</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nv">$xisbn</span><span class="o">-&gt;</span><span class="na">hyphenate</span><span class="p">(</span><span class="s1">'080442957X'</span><span class="p">);</span>
</pre></div>
</li>
<li>
<p><code>to10</code>:</p>

<div class="highlight highlight-php"><pre><span class="nv">$xisbn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">xisbn</span><span class="p">;</span>
<span class="nv">$data</span>  <span class="o">=</span> <span class="nv">$xisbn</span><span class="o">-&gt;</span><span class="na">to10</span><span class="p">(</span><span class="s1">'978-0-8044-2957-3'</span><span class="p">);</span>
</pre></div>
</li>
<li>
<p><code>to13</code>:</p>

<div class="highlight highlight-php"><pre><span class="nv">$xisbn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">xisbn</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nv">$xisbn</span><span class="o">-&gt;</span><span class="na">to13</span><span class="p">(</span><span class="s1">'0-8044-2957X'</span><span class="p">);</span>
</pre></div>
</li>
<li>
<p><code>generateHash</code> or <code>generate_hash</code>:</p>

<div class="highlight highlight-php"><pre><span class="nv">$xisbn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">xisbn</span><span class="p">;</span>
<span class="nv">$data1</span> <span class="o">=</span> <span class="nv">$xisbn</span><span class="o">-&gt;</span><span class="na">generateHash</span><span class="p">(</span><span class="s1">'{ ISBN }'</span><span class="p">,</span> <span class="s1">'{ REQUEST IP ADDRESS }'</span><span class="p">,</span> <span class="s1">'{ MY SECRET }'</span><span class="p">);</span>
<span class="nv">$data2</span> <span class="o">=</span> <span class="nv">$xisbn</span><span class="o">-&gt;</span><span class="na">generate_hash</span><span class="p">(</span><span class="s1">'{ ISBN }'</span><span class="p">,</span> <span class="s1">'{ REQUEST IP ADDRESS }'</span><span class="p">,</span> <span class="s1">'{ MY SECRET }'</span><span class="p">);</span>
</pre></div>
</li>
</ol><h3>Options</h3>

<p>Options are included as an array after the search term. Example:</p>

<div class="highlight highlight-php"><pre><span class="nv">$xisbn</span>   <span class="o">=</span> <span class="k">new</span> <span class="nx">xisbn</span><span class="p">;</span>
<span class="nv">$options</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'format'</span> <span class="o">=&gt;</span> <span class="s1">'json'</span><span class="p">,</span> <span class="s1">'fl'</span> <span class="o">=&gt;</span> <span class="s1">'oclcnum,author'</span><span class="p">);</span>
<span class="nv">$data</span>    <span class="o">=</span> <span class="nv">$xisbn</span><span class="o">-&gt;</span><span class="na">getMetadata</span><span class="p">(</span><span class="s1">'0-8044-2957x'</span><span class="p">,</span> <span class="nv">$options</span><span class="p">);</span>
</pre></div>

<ol>
<li>
<code>ai</code>: String. <a href="https://www.worldcat.org/wcpa/do/AffiliateLogin">WorldCat Affiliate ID</a>. Default: <code>null</code>
</li>
<li>
<code>callback</code>: String. JSON callback. Default: <code>null</code>
</li>
<li>
<code>count</code>: Integer. Number of desired search results. Default: 1,000</li>
<li>
<code>fl</code>: String. Comma separated list of fields to return. Default: <code>*</code>

<ul>
<li><code>author</code></li>
<li><code>city</code></li>
<li><code>ed</code></li>
<li><code>oclcnum</code></li>
<li><code>form</code></li>
<li><code>lang</code></li>
<li><code>publisher</code></li>
<li><code>title</code></li>
<li><code>url</code></li>
<li><code>year</code></li>
</ul>
</li>
<li>
<code>format</code>: String. Format to return the response in. Default: <code>xml</code>

<ul>
<li>
<code>csv</code>: Comma separated values</li>
<li>
<code>json</code>: JavaScript Object Notation</li>
<li>
<code>php</code>: PHP</li>
<li>
<code>python</code>: Python</li>
<li>
<code>ruby</code>: Ruby</li>
<li>
<code>txt</code>: Plain text</li>
<li>
<code>html</code>: XHTML</li>
<li>
<code>xml</code>: XML</li>
</ul>
</li>
<li>
<code>hash</code>: String. <a href="http://www.oclc.org/developer/develop/web-services/xid-api/authentication.en.html">Authentication hash</a>. Default: <code>null</code>
</li>
<li>
<code>library</code>: String. Limit search scope to a particular library's holdings. Default: <code>null</code>

<ul>
<li>
<code>ebook</code>: ebooks based on OCLC NJ's <a href="http://nj.oclc.org/uhf/about.html">UHF Holdings Database</a>
</li>
<li>
<code>freebook</code>: free ebooks based on OCLC NJ's <a href="http://nj.oclc.org/uhf/about.html">UHF Holdings Database</a>
</li>
<li>
<code>bookmooch</code>: <a href="http://www.bookmooch.com/">Bookmooch's</a> inventory</li>
<li>
<code>paperbackswap</code>: <a href="http://www.paperbackswap.com/">Paperbackswap's</a> inventory</li>
<li>
<code>wikipedia</code>: works that appear in <a href="https://www.wikipedia.org/">Wikipedia</a>
</li>
<li>
<code>oca</code>: <a href="http://www.archive.org/">Open Content Alliance</a> holdings</li>
<li>
<code>hathi</code>: <a href="http://www.hathitrust.org/">Hathi Trust</a> holdings</li>
</ul>
</li>
<li>
<code>startIndex</code>: Integer. The index of the first search result desired. Default: 0</li>
<li>
<code>token</code>: String. <a href="http://www.oclc.org/developer/develop/web-services/xid-api/authentication.en.html">Authentication token</a>. Default: <code>null</code>
</li>
</ol><h3>Known issues</h3>

<ol>
<li>Options can only be set in bulk by passing an array when you call a method. It would be nice to be able to set them one at a time.</li>
</ol><h2>OCLC Response Codes</h2>

<ul>
<li>
<code>invalidAffiliateId</code>: Invalid affiliate id.</li>
<li>
<code>invalidHash</code>: Invalid hash.</li>
<li>
<code>invalidId</code>: The request identifier is not valid.</li>
<li>
<code>invalidToken</code>: Invalid token.</li>
<li>
<code>ok</code>: A valid request.</li>
<li>
<code>overlimit</code>: The quota (daily or cummulative) for the affiliate id or IP address has been exceeded.</li>
<li>
<code>unknownField</code>: The request field is not supported.</li>
<li>
<code>unknownFormat</code>: The request format is not supported.</li>
<li>
<code>unknownId</code>: The request identifier looks like a valid ISBN, ISSN, OCLCNumber, LCCN, or OWI number and unknown to the service.</li>
<li>
<code>unknownLibrary</code>: The request library is not supported.</li>
<li>
<code>unknownMethod</code>: The request method is not supported.</li>
</ul>
</div>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/jaredhowland/OCLC/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/jaredhowland/OCLC/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/jaredhowland/OCLC"></a> is maintained by <a href="https://github.com/jaredhowland">jaredhowland</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>


  </body>
</html>
