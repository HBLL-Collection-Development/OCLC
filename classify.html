<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>OCLC Web Services Library by jaredhowland</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>OCLC Web Services Library</h1>
        <h2>PHP library to access OCLC web services</h2>
        <a href="https://github.com/jaredhowland/OCLC" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <div id="wrapper">
<h1>Classify</h1>

<p><a href="http://www.oclc.org/content/developer/worldwide/en_us/develop/web-services/classify.html">Classify</a> allows you to classify books, videos, CDs and other materials based on identifier: ISBN, OCLC Number, UPC, ISSN, title, author, FAST headings, or FRBR work identifier. One use case is a set of eBooks without a call number. You can use the Classify service to look up the call number for those books. Currently, this is an experimental OCLC service.</p>

<h2>Usage</h2>

<h3>Minimal example</h3>

<div class="highlight highlight-php"><pre><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">use</span> <span class="nx">OCLC\classify\classify</span><span class="p">;</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$classify</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">classify</span><span class="p">;</span>
  <span class="nv">$data</span>     <span class="o">=</span> <span class="nv">$classify</span><span class="o">-&gt;</span><span class="na">stdnbr</span><span class="p">(</span><span class="s1">'785871937'</span><span class="p">);</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="p">}</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>

<h3>Search methods</h3>

<ol>
<li>
<p><code>stdnbr</code> or <code>standard_number</code>: The standard number (OCLC, ISBN, ISSN, UPC) number to search for.</p>

<div class="highlight highlight-php"><pre><span class="nv">$classify</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">classify</span><span class="p">;</span>
<span class="nv">$data1</span> <span class="o">=</span> <span class="nv">$classify</span><span class="o">-&gt;</span><span class="na">stdnbr</span><span class="p">(</span><span class="s1">'222654874'</span><span class="p">);</span>
<span class="nv">$data2</span> <span class="o">=</span> <span class="nv">$classify</span><span class="o">-&gt;</span><span class="na">standard_number</span><span class="p">(</span><span class="s1">'222654874'</span><span class="p">);</span>
</pre></div>
</li>
<li>
<p><code>oclc</code>: The OCLC number to search for.</p>

<div class="highlight highlight-php"><pre><span class="nv">$classify</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">classify</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nv">$classify</span><span class="o">-&gt;</span><span class="na">oclc</span><span class="p">(</span><span class="s1">'155131850'</span><span class="p">);</span>
</pre></div>
</li>
<li>
<p><code>isbn</code>: The ISBN to search for.</p>

<div class="highlight highlight-php"><pre><span class="nv">$classify</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">classify</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nv">$classify</span><span class="o">-&gt;</span><span class="na">isbn</span><span class="p">(</span><span class="s1">'9780545010221'</span><span class="p">);</span>
</pre></div>
</li>
<li>
<p><code>issn</code>: The ISSN to search for.</p>

<div class="highlight highlight-php"><pre><span class="nv">$classify</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">classify</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nv">$classify</span><span class="o">-&gt;</span><span class="na">issn</span><span class="p">(</span><span class="s1">'1531-4650'</span><span class="p">);</span>
</pre></div>
</li>
<li>
<p><code>upc</code>: The UPC code to search for.</p>

<div class="highlight highlight-php"><pre><span class="nv">$classify</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">classify</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nv">$classify</span><span class="o">-&gt;</span><span class="na">upc</span><span class="p">(</span><span class="s1">'085392246724'</span><span class="p">);</span>
</pre></div>
</li>
<li>
<p><code>ident</code>: The FAST identifier to search for.</p>

<div class="highlight highlight-php"><pre><span class="nv">$classify</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">classify</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nv">$classify</span><span class="o">-&gt;</span><span class="na">ident</span><span class="p">(</span><span class="s1">'01394255'</span><span class="p">);</span>
</pre></div>
</li>
<li>
<p><code>heading</code>: The FAST heading to search for.</p>

<div class="highlight highlight-php"><pre><span class="nv">$classify</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">classify</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nv">$classify</span><span class="o">-&gt;</span><span class="na">heading</span><span class="p">(</span><span class="s2">"Harry Potter and the philosopher's stone (Rowling, J. K.)"</span><span class="p">);</span>
</pre></div>
</li>
<li>
<p><code>lccn</code>: <a href="http://www.loc.gov/marc/lccn_structure.html">Library of Congress Control Number</a> (<code>2014-05-13</code>: call fails on OCLCs end)</p>

<div class="highlight highlight-php"><pre><span class="nv">$classify</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">classify</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nv">$classify</span><span class="o">-&gt;</span><span class="na">lccn</span><span class="p">(</span><span class="s1">'99023982'</span><span class="p">);</span>
</pre></div>
</li>
<li>
<p><code>lccn_pfx</code>: <a href="http://www.loc.gov/marc/lccn_structure.html">Library of Congress Control Number</a>—Prefix (<code>2014-05-13</code>: call fails on OCLCs end)</p>

<div class="highlight highlight-php"><pre><span class="nv">$classify</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">classify</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nv">$classify</span><span class="o">-&gt;</span><span class="na">lccn_pfx</span><span class="p">(</span><span class="s1">'sh'</span><span class="p">);</span>
</pre></div>
</li>
<li>
<p><code>lccn_yr</code>: <a href="http://www.loc.gov/marc/lccn_structure.html">Library of Congress Control Number</a>—Year (<code>2014-05-13</code>: call fails on OCLCs end)</p>

<div class="highlight highlight-php"><pre><span class="nv">$classify</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">classify</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nv">$classify</span><span class="o">-&gt;</span><span class="na">lccn_yr</span><span class="p">(</span><span class="s1">'2014'</span><span class="p">);</span>
</pre></div>
</li>
<li>
<p><code>lccn_sno</code>: <a href="http://www.loc.gov/marc/lccn_structure.html">Library of Congress Control Number</a>—Serial Number (<code>2014-05-13</code>: call fails on OCLCs end)</p>

<div class="highlight highlight-php"><pre><span class="nv">$classify</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">classify</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nv">$classify</span><span class="o">-&gt;</span><span class="na">lccn_sno</span><span class="p">(</span><span class="s1">'023982'</span><span class="p">);</span>
</pre></div>
</li>
<li>
<p><code>swid</code>: The FRBR work identifier to search for.</p>

<div class="highlight highlight-php"><pre><span class="nv">$classify</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">classify</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nv">$classify</span><span class="o">-&gt;</span><span class="na">swid</span><span class="p">(</span><span class="s1">'34195'</span><span class="p">);</span>
</pre></div>
</li>
<li>
<p><code>author</code>: The author name to search for.</p>

<div class="highlight highlight-php"><pre><span class="nv">$classify</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">classify</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nv">$classify</span><span class="o">-&gt;</span><span class="na">author</span><span class="p">(</span><span class="s1">'rowling'</span><span class="p">);</span>
</pre></div>
</li>
<li>
<p><code>title</code>: The title to search for.</p>

<div class="highlight highlight-php"><pre><span class="nv">$classify</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">classify</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nv">$classify</span><span class="o">-&gt;</span><span class="na">title</span><span class="p">(</span><span class="s1">'Harry Potter and the Chamber of Secrets'</span><span class="p">);</span>
</pre></div>
</li>
<li>
<p><code>multi</code>: Allows any combination of searche methods to be performed. Example:</p>

<div class="highlight highlight-php"><pre><span class="nv">$classify</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">classify</span><span class="p">;</span>
<span class="nv">$multi</span>    <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'author'</span> <span class="o">=&gt;</span> <span class="s1">'rowling'</span><span class="p">,</span> <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'harry potter'</span><span class="p">);</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nv">$classify</span><span class="o">-&gt;</span><span class="na">multi</span><span class="p">(</span><span class="nv">$multi</span><span class="p">);</span>
</pre></div>
</li>
</ol><p>OCLC <code>OR</code>s all terms together when you include multiple search options.</p>

<h4>Options</h4>

<p>Options are included as an array after the search term(s). Example:</p>

<div class="highlight highlight-php"><pre><span class="nv">$classify</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">classify</span><span class="p">;</span>
<span class="nv">$options</span>  <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'summary'</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span> <span class="s1">'maxRecs'</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">);</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nv">$classify</span><span class="o">-&gt;</span><span class="na">stdnbr</span><span class="p">(</span><span class="s1">'222654874'</span><span class="p">,</span> <span class="nv">$options</span><span class="p">);</span>
</pre></div>

<ol>
<li>
<code>summary</code>: Boolean. Summary or detailed record. Default: FALSE</li>
<li>
<code>maxRecs</code>: Integer. Maximum number of records to be returned. Default: 25</li>
<li>
<code>startRec</code>: Integer. Record to begin with (for pagination of results). Default: 1</li>
<li>
<code>orderBy</code>: String. The desired sort order. Default: <code>hold desc</code>

<ul>
<li>
<code>mancount asc</code> (number of editions, ascending)</li>
<li>
<code>mancount desc</code> (number of editions descending)</li>
<li>
<code>hold asc</code> (holdings, ascending)</li>
<li>
<code>hold desc</code> (holdings, descending)</li>
<li>
<code>lyr asc</code> (date of first edition, ascending)</li>
<li>
<code>lyr desc</code> (date of first edition, descending)</li>
<li>
<code>hyr asc</code> (date of latest edition, ascending)</li>
<li>
<code>hyr desc</code> (date of latest edition, descending)</li>
<li>
<code>ln asc</code> (language, ascending)</li>
<li>
<code>ln desc</code> (language, descending)</li>
<li>
<code>sheading asc</code> (FAST subject heading, ascending)</li>
<li>
<code>sheading desc</code> (FAST subject heading, descending)</li>
<li>
<code>works asc</code> (number of works with this FAST subject heading, ascending)</li>
<li>
<code>works desc</code> (number of works with this FAST subject heading, descending)</li>
<li>
<code>type asc</code> (FAST subject type, ascending)</li>
<li>
<code>type desc</code> (FAST subject type, descending)</li>
</ul>
</li>
</ol><h4>Formats</h4>

<p>Normally, <code>format</code> would be included in the options array but Classify only returns <code>XML</code> so I have created a special call for different formats. If OCLC ever includes different formats as a default option, I will incorporate it into the options.</p>

<p>Multiple output formats are available in this library. If no format is specified, a <code>PHP</code> array is returned. Available formats include the following:</p>

<ol>
<li><code>xml</code></li>
<li><code>json</code></li>
<li><code>php_object</code></li>
<li>
<code>php_array</code> (default)</li>
</ol><p>Formats can be specified in two different ways:</p>

<div class="highlight highlight-php"><pre><span class="nv">$classify</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">classify</span><span class="p">(</span><span class="s1">'json'</span><span class="p">);</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nv">$classify</span><span class="o">-&gt;</span><span class="na">stdnbr</span><span class="p">(</span><span class="s1">'222654874'</span><span class="p">);</span>
</pre></div>

<p>OR</p>

<div class="highlight highlight-php"><pre><span class="nv">$classify</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">classify</span><span class="p">;</span>
<span class="nv">$classify</span><span class="o">-&gt;</span><span class="na">set_format</span><span class="p">(</span><span class="s1">'json'</span><span class="p">);</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nv">$classify</span><span class="o">-&gt;</span><span class="na">stdnbr</span><span class="p">(</span><span class="s1">'222654874'</span><span class="p">);</span>
</pre></div>

<h4>OCLC Response Codes</h4>

<ul>
<li>
<code>0</code>: Success. Single-work summary response provided.</li>
<li>
<code>2</code>: Success. Single-work detail response provided.</li>
<li>
<code>4</code>: Success. Multi-work response provided.</li>
<li>
<code>100</code>: No input. The method requires an input argument.</li>
<li>
<code>101</code>: Invalid input. The standard number argument is invalid.</li>
<li>
<code>102</code>: Not found. No data found for the input argument.</li>
<li>
<code>200</code>: Unexpected error.</li>
</ul>
</div>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/jaredhowland/OCLC/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/jaredhowland/OCLC/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/jaredhowland/OCLC"></a> is maintained by <a href="https://github.com/jaredhowland">jaredhowland</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>


  </body>
</html>
